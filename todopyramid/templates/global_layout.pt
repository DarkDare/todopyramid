<!DOCTYPE html>
<html lang="en" metal:define-macro="layout">
  <head>
    <meta charset="utf-8">
    <title><tal:title condition="page_title | None">${page_title} &mdash; </tal:title>ToDo Pyramid</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The Pyramid version of the todo app">
    <meta name="author" content="Six Feet Up, Inc.">

    <!-- Le styles -->
    <link rel="stylesheet" type="text/css" media="screen" charset="utf-8"
          href="${request.static_url('deform_bootstrap:static/deform_bootstrap.css')}" />
    <link rel="stylesheet" type="text/css" media="screen" charset="utf-8"
          href="${request.static_url('deform_bootstrap:static/chosen_bootstrap.css')}" />
    <link rel="stylesheet" type="text/css" media="screen" charset="utf-8"
          href="${request.static_url('deform:static/css/ui-lightness/jquery-ui-1.8.11.custom.css')}" />

    <metal:css define-slot="css"/>

    <style>
      body {
        /* 60px to make the container go all the way to the bottom of the topbar */
        padding-top: 60px;
      }
    </style>
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="${request.application_url}">ToDo Pyramid</a>
          <div class="nav-collapse collapse">
            <ul class="nav" tal:define="section_name section | None">
              <li tal:attributes="class section_name == 'home' and 'active' or ''"><a href="${request.application_url}">Home</a></li>
              <li tal:attributes="class section_name == 'list' and 'active' or ''"><a href="${request.application_url}/list">List</a></li>
              <li tal:attributes="class section_name == 'tags' and 'active' or ''"><a href="${request.application_url}/tags">Tags</a></li>
              <li tal:attributes="class section_name == 'about' and 'active' or ''"><a href="#about">About</a></li>
            </ul>

            <ul class="nav pull-right">
              <li><a href="#login">${request.persona_button}</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">
      <!--! Flash messages -->
      <tal:message condition="request.session.peek_flash()">
          <div class="alert"
               tal:repeat="message request.session.pop_flash()">
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            ${message}
          </div>
      </tal:message>
      <!--! Flash messages from specific queues -->
      <tal:newsflash repeat="flash_type ['success', 'info', 'error']">
        <tal:message condition="request.session.peek_flash(flash_type)">
            <div tal:repeat="message request.session.pop_flash(flash_type)"
                 tal:attributes="class string:alert alert-$flash_type">
              <button type="button" class="close" data-dismiss="alert">&times;</button>
              ${message}
            </div>
        </tal:message>
      </tal:newsflash>

      <!--! Page Title -->
      <div class="page-header" tal:condition="page_title | None">
        <h1>${page_title}<tal:subtext condition="subtext"> <small><tal:text replace="structure subtext">html content here</tal:text></small></tal:subtext></h1>
      </div>

      <!--! Page Content from other templates -->
      <metal:content define-slot="content">
        Site content goes here
      </metal:content>

    </div>

    <footer class="pagination-centered container">
      <hr/>
      <p>Created by <a href="http://www.sixfeetup.com">Six Feet Up, Inc.</a> &mdash; Get the code on <a href="https://github.com/indypy/todopyramid#readme">GitHub</a></p>
    </footer>

    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery -->
    <script src="${request.static_url('deform:static/scripts/jquery-1.7.2.min.js')}"></script>
    <script src="${request.static_url('deform_bootstrap:static/jquery-ui-1.8.18.custom.min.js')}"></script>
    <script src="${request.static_url('deform_bootstrap:static/jquery-ui-timepicker-addon-0.9.9.js')}"></script>
    <!-- Deform -->
    <script src="${request.static_url('deform:static/scripts/deform.js')}"></script>
    <script src="${request.static_url('deform_bootstrap:static/deform_bootstrap.js')}"></script>
    <!-- Bootstrap -->
    <script src="${request.static_url('deform_bootstrap:static/bootstrap.min.js')}"></script>
    <script src="${request.static_url('deform_bootstrap:static/bootstrap-datepicker.js')}"></script>
    <script src="${request.static_url('deform_bootstrap:static/bootstrap-typeahead.js')}"></script>
    <script src="${request.static_url('deform_bootstrap:static/jquery.form-2.96.js')}"></script>
    <script src="${request.static_url('deform_bootstrap:static/jquery.maskedinput-1.3.js')}"></script>
    <!-- Persona -->
    <script src="https://login.persona.org/include.js" type="text/javascript"></script>
    <script type="text/javascript">${request.persona_js}</script>

    <metal:js define-slot="javascript"/>

  </body>
</html>
